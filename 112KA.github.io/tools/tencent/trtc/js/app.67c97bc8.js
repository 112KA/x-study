(function(){var e={4729:function(e,t,i){"use strict";var s=i(9242),o=i(8726),n=i(8650),a=i(2741),r=i.n(a),l=i(1373),c=i(4695),d=i(2026),u=i(4940);function p(){const e=i(2151),t={};return e.keys().forEach((i=>{const s=i.match(/([A-Za-z0-9-_]+)\./i);if(s&&s.length>1){const o=s[1];t[o]=e(i)}})),t}const m=(0,u.o)({locale:(0,d.G3)()||"en",legacy:!1,globalInjection:!0,global:!0,fallbackLocale:"en",messages:p()});var h=m,v=i(1949),f=i.n(v);const g="https://web.sdk.qcloud.com"===window.location.origin,b={dev:"iHWefAYqvXVdajviap",prod:"iHWefAYqpBFdmIMeDi"},y=new(f())({id:g?b.prod:b.dev,reportApiSpeed:!0,reportAssetSpeed:!0});var w=y,I=i(3396),S=i(5574),k=i(4870);const _=e=>((0,I.dD)("data-v-e7e09bfe"),e=e(),(0,I.Cn)(),e),D={class:"text-white header"},U=["src"],C=_((()=>(0,I._)("svg",{"aria-hidden":"true",class:"octicon octicon-mark-github v-align-middle","data-view-component":"true",height:"32",version:"1.1",viewBox:"0 0 16 16",width:"32"},[(0,I._)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z","fill-rule":"evenodd"})],-1))),$=[C];var A=(0,I.aZ)({setup(e){const{proxy:t}=(0,I.FN)(),{locale:i,t:s}=(0,u.QT)({useScope:"global"});function o(){switch(i.value){case"zh":i.value="en",localStorage.setItem("trtc-quick-vue3-language","en");break;case"en":default:i.value="zh",localStorage.setItem("trtc-quick-vue3-language","zh");break}document.title=s("title")}function n(){t.$aegis.reportEvent({name:"jumpGithub",ext1:"jumpGithub",ext2:"webrtcQuickDemoVue3"}),window.open("https://github.com/LiteAVSDK/TRTC_Web","_blank")}return(e,t)=>((0,I.wg)(),(0,I.iD)("div",D,[(0,I._)("img",{src:(0,k.SU)(s)("logo"),alt:"TRTC",style:{height:"100%"}},null,8,U),(0,I._)("div",{style:{"flex-direction":"row",display:"flex","justify-content":"center","align-items":"center"}},[(0,I._)("div",{id:"language",onClick:o},"中/En"),(0,I._)("div",{class:"github",onClick:n},$)])]))}}),x=i(89);const L=(0,x.Z)(A,[["__scopeId","data-v-e7e09bfe"]]);var E=L,T=(0,I.aZ)({setup(e){const t=(0,I.f3)("$aegis");return r().checkSystemRequirements().then((e=>{e.result||(console.log("checkResult",e.result,"checkDetail",e.detail),(0,S.z8)({message:"Your browser does not supported TRTC!",type:"error"}),window.location.href="https://web.sdk.qcloud.com/trtc/webrtc/demo/detect/index.html")})),t.reportEvent({name:"loaded",ext1:"loaded-success",ext2:"webrtcQuickDemoVue3"}),(e,t)=>{const i=(0,I.up)("router-view");return(0,I.wg)(),(0,I.iD)(I.HY,null,[(0,I.Wm)(E),(0,I.Wm)(i)],64)}}});const P=T;var K=P,V=i(678),j=(i(6885),i(8839),i(172),i(6809),i(6939)),z=i(7610),R=i(5728),W=i(5791),q=i(7139),Z=i.p+"img/clippy.6402596b.svg",O=(i(5804),i(2584),i(8478)),J=i.p+"img/step1-en.0e4e49fa.png",H=i.p+"img/step1.94fbc5ac.png",Q=i.p+"img/step2-en.ee991927.png",M=i.p+"img/step2.0e97ad6c.png";const N=e=>((0,I.dD)("data-v-18587486"),e=e(),(0,I.Cn)(),e),B={class:"guidance"},Y={class:"item"},F={key:0},G=(0,I.Uk)("Determine if the current browser environment is suitable for using TRTC，You can visit "),X=N((()=>(0,I._)("a",{target:"_blank",href:"https://web.sdk.qcloud.com/trtc/webrtc/demo/detect/index.html"},"TRTC Detect Page",-1))),ee=[G,X],te={key:1},ie=(0,I.Uk)("判断当前浏览器环境是否满足使用 TRTC，您可以访问 "),se=N((()=>(0,I._)("a",{target:"_blank",href:"https://web.sdk.qcloud.com/trtc/webrtc/demo/detect/index.html"},"TRTC 检测页面",-1))),oe=[ie,se],ne={class:"item"},ae={key:0,class:"collapse-content"},re=N((()=>(0,I._)("li",null,[(0,I.Uk)("Login "),(0,I._)("a",{target:"_blank",href:"https://console.cloud.tencent.com/trtc"},"TRTC Console"),(0,I.Uk)(", choose Development Assistance > "),(0,I._)("a",{target:"_blank",href:"https://console.cloud.tencent.com/trtc/quickstart"},"Demo Quick Run")],-1))),le=N((()=>(0,I._)("li",null,"Click New, enter a name for the application, such as TestTRTC. If you have already created an application, click Existing.",-1))),ce=N((()=>(0,I._)("li",null,"Add or edit tags according to actual needs, click Create.",-1))),de=N((()=>(0,I._)("img",{src:J,alt:"Create App",style:{width:"400px"}},null,-1))),ue=[re,le,ce,de],pe={key:1,class:"collapse-content"},me=N((()=>(0,I._)("li",null,[(0,I.Uk)("登录"),(0,I._)("a",{target:"_blank",href:"https://console.cloud.tencent.com/trtc"},"实时音视频控制台"),(0,I.Uk)("，选择【开发辅助】 > 【"),(0,I._)("a",{target:"_blank",href:"https://console.cloud.tencent.com/trtc/quickstart"},"快速跑通Demo"),(0,I.Uk)("】")],-1))),he=N((()=>(0,I._)("li",null,"单击【新建应用】输入应用名称，例如 TestTRTC；若您已创建应用可单击选择已有应用。",-1))),ve=N((()=>(0,I._)("li",null,"根据实际业务需求添加或编辑标签，单击【创建】。",-1))),fe=N((()=>(0,I._)("img",{src:H,alt:"创建应用",style:{width:"400px"}},null,-1))),ge=[me,he,ve,fe],be={class:"item"},ye={key:0,class:"collapse-content"},we=N((()=>(0,I._)("li",null,"Copy the SDKAppId and SecretKey into the input box",-1))),Ie=N((()=>(0,I._)("img",{src:Q,alt:"SDKAppId",style:{width:"400px"}},null,-1))),Se=[we,Ie],ke={key:1,class:"collapse-content"},_e=N((()=>(0,I._)("li",null,"复制 SDKAppId 和密钥（secretKey）填入输入框",-1))),De=N((()=>(0,I._)("img",{src:M,alt:"SDKAppId",style:{width:"400px"}},null,-1))),Ue=[_e,De],Ce={class:"item"},$e={key:0,class:"collapse-content"},Ae=N((()=>(0,I._)("li",null,"Input userId and roomId",-1))),xe=N((()=>(0,I._)("li",null,"Click Join Room to enter the room",-1))),Le=N((()=>(0,I._)("li",null,"Click Publish to publish LocalStream",-1))),Ee=N((()=>(0,I._)("li",null,"Click Unpublish to unpublish LocalStream",-1))),Te=N((()=>(0,I._)("li",null,"Click Leave Room to leave the room",-1))),Pe=N((()=>(0,I._)("li",null,"Click Start Share Screen to publish screen stream",-1))),Ke=N((()=>(0,I._)("li",null,"Click Stop Share Screen to unpublish screen stream",-1))),Ve=[Ae,xe,Le,Ee,Te,Pe,Ke],je={key:1,class:"collapse-content"},ze=N((()=>(0,I._)("li",null,"输入 userId 和 roomId",-1))),Re=N((()=>(0,I._)("li",null,"点击【进入房间】按钮进入房间",-1))),We=N((()=>(0,I._)("li",null,"点击【发布流】按钮发布音视频",-1))),qe=N((()=>(0,I._)("li",null,"点击【取消发布流】按钮取消发布音视频",-1))),Ze=N((()=>(0,I._)("li",null,"点击【离开房间】按钮离开房间",-1))),Oe=N((()=>(0,I._)("li",null,"点击【开始共享屏幕】按钮布屏幕分享",-1))),Je=N((()=>(0,I._)("li",null,"点击【停止共享屏幕】按钮取消发布屏幕分享",-1))),He=[ze,Re,We,qe,Ze,Oe,Je];var Qe=(0,I.aZ)({setup(e){const{locale:t,t:i}=(0,u.QT)(),s=(0,I.Fl)((()=>"en"===t.value)),o=(0,I.Fl)((()=>"zh"===t.value)),n=(0,k.iH)(["1","4"]);return(e,t)=>{const a=O.aE,r=O.PH;return(0,I.wg)(),(0,I.iD)("div",B,[(0,I.Wm)(r,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e)},{default:(0,I.w5)((()=>[(0,I.Wm)(a,{title:(0,k.SU)(i)("step1"),class:"header",name:"1"},{default:(0,I.w5)((()=>[(0,I._)("div",Y,[(0,I._)("ul",null,[(0,k.SU)(s)?((0,I.wg)(),(0,I.iD)("li",F,ee)):(0,I.kq)("",!0),(0,k.SU)(o)?((0,I.wg)(),(0,I.iD)("li",te,oe)):(0,I.kq)("",!0)])])])),_:1},8,["title"]),(0,I.Wm)(a,{title:(0,k.SU)(i)("step2"),class:"header",name:"2"},{default:(0,I.w5)((()=>[(0,I._)("div",ne,[(0,k.SU)(s)?((0,I.wg)(),(0,I.iD)("ul",ae,ue)):(0,I.kq)("",!0),(0,k.SU)(o)?((0,I.wg)(),(0,I.iD)("ul",pe,ge)):(0,I.kq)("",!0)])])),_:1},8,["title"]),(0,I.Wm)(a,{title:(0,k.SU)(i)("step3"),class:"header",name:"3"},{default:(0,I.w5)((()=>[(0,I._)("div",be,[(0,k.SU)(s)?((0,I.wg)(),(0,I.iD)("ul",ye,Se)):(0,I.kq)("",!0),(0,k.SU)(o)?((0,I.wg)(),(0,I.iD)("ul",ke,Ue)):(0,I.kq)("",!0)])])),_:1},8,["title"]),(0,I.Wm)(a,{title:(0,k.SU)(i)("step4"),class:"header",name:"4"},{default:(0,I.w5)((()=>[(0,I._)("div",Ce,[(0,k.SU)(s)?((0,I.wg)(),(0,I.iD)("ul",$e,Ve)):(0,I.kq)("",!0),(0,k.SU)(o)?((0,I.wg)(),(0,I.iD)("ul",je,He)):(0,I.kq)("",!0)])])),_:1},8,["title"])])),_:1},8,["modelValue"])])}}});const Me=(0,x.Z)(Qe,[["__scopeId","data-v-18587486"]]);var Ne=Me,Be=(i(812),i(432)),Ye=i(630);const Fe=e=>((0,I.dD)("data-v-4f0f1b76"),e=e(),(0,I.Cn)(),e),Ge={class:"inputs-container"},Xe={style:{"font-size":"14px","font-weight":"500"}},et=Fe((()=>(0,I._)("div",{class:"key"},"SDKAppID",-1))),tt=Fe((()=>(0,I._)("div",{class:"key"},"SecretKey",-1))),it=Fe((()=>(0,I._)("div",{class:"key"},"UserID",-1))),st=Fe((()=>(0,I._)("div",{class:"key"},"RoomID",-1))),ot={class:"alert"},nt={class:"alert"},at=["href"];var rt=(0,I.aZ)({setup(e){const{t:t}=(0,u.QT)(),i=(0,Ye.Z)();i.$patch({sdkAppId:(0,d.cP)("sdkAppId"),secretKey:(0,d.cP)("secretKey"),userId:(0,d.cP)("userId"),roomId:(0,d.cP)("roomId")});const s={url:window.location.href.split("?")[0]};return window.history.pushState(s,"","index.html#/"),(e,s)=>{const o=R.EZ,n=z.Dv,a=j.dq,r=Be.v;return(0,I.wg)(),(0,I.iD)("div",Ge,[(0,I._)("h1",Xe,(0,q.zw)((0,k.SU)(t)("param")),1),(0,I.Wm)(a,{gutter:10},{default:(0,I.w5)((()=>[(0,I.Wm)(n,{span:12},{default:(0,I.w5)((()=>[(0,I.Wm)(o,{modelValue:(0,k.SU)(i).sdkAppId,"onUpdate:modelValue":s[0]||(s[0]=e=>(0,k.SU)(i).sdkAppId=e),placeholder:"sdkAppId",type:"number"},{prepend:(0,I.w5)((()=>[et])),_:1},8,["modelValue"])])),_:1}),(0,I.Wm)(n,{span:12},{default:(0,I.w5)((()=>[(0,I.Wm)(o,{modelValue:(0,k.SU)(i).secretKey,"onUpdate:modelValue":s[1]||(s[1]=e=>(0,k.SU)(i).secretKey=e),placeholder:"secretKey",type:"string"},{prepend:(0,I.w5)((()=>[tt])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,I.Wm)(a,{gutter:10},{default:(0,I.w5)((()=>[(0,I.Wm)(n,{span:12},{default:(0,I.w5)((()=>[(0,I.Wm)(o,{modelValue:(0,k.SU)(i).userId,"onUpdate:modelValue":s[2]||(s[2]=e=>(0,k.SU)(i).userId=e),placeholder:"userID"},{prepend:(0,I.w5)((()=>[it])),_:1},8,["modelValue"])])),_:1}),(0,I.Wm)(n,{span:12},{default:(0,I.w5)((()=>[(0,I.Wm)(o,{modelValue:(0,k.SU)(i).roomId,"onUpdate:modelValue":s[3]||(s[3]=e=>(0,k.SU)(i).roomId=e),placeholder:"roomID"},{prepend:(0,I.w5)((()=>[st])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,I._)("div",ot,[(0,I.Wm)(r,{type:"error",closable:!1},{default:(0,I.w5)((()=>[(0,I._)("span",nt,[(0,I.Uk)((0,q.zw)((0,k.SU)(t)("alert"))+" ",1),(0,I._)("a",{target:"_blank",href:(0,k.SU)(t)("url")},(0,q.zw)((0,k.SU)(t)("click")),9,at)])])),_:1})])])}}});const lt=(0,x.Z)(rt,[["__scopeId","data-v-4f0f1b76"]]);var ct=lt,dt=(i(9863),i(8217),i(438));const ut=e=>((0,I.dD)("data-v-21141a18"),e=e(),(0,I.Cn)(),e),pt={class:"select-container"},mt={style:{"font-size":"14px","font-weight":"500"}},ht=ut((()=>(0,I._)("div",{class:"label"},"Camera",-1))),vt=ut((()=>(0,I._)("div",{class:"label"},"Microphone",-1))),ft={style:{"font-size":"14px"}};var gt=(0,I.aZ)({emits:["switchDevice"],setup(e,{emit:t}){const i=(0,Ye.Z)(),{t:s}=(0,u.QT)(),o=async()=>{console.log("updateDevice");const e=await r().getCameras();e.forEach((e=>{e.value=e.deviceId}));const t=await r().getMicrophones();t.forEach((e=>{e.value=e.deviceId})),i.$patch({cameraList:e,microphoneList:t}),i.videoDeviceId||(i.videoDeviceId=e[0].deviceId),i.audioDeviceId||(i.audioDeviceId=t[0].deviceId)};navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((e=>{e.getTracks().forEach((e=>{e.stop()})),o()})).catch((()=>{(0,S.z8)({message:s("permit"),type:"error"})})),navigator.mediaDevices.ondevicechange=o;const n=()=>{t("switchDevice",{videoId:i.videoDeviceId,audioId:i.audioDeviceId})};return(e,t)=>{const o=dt.BT,a=dt.km,r=z.Dv,l=j.dq;return(0,I.wg)(),(0,I.iD)("div",pt,[(0,I._)("h1",mt,(0,q.zw)((0,k.SU)(s)("device")),1),(0,I.Wm)(l,{gutter:10},{default:(0,I.w5)((()=>[(0,I.Wm)(r,{span:12,class:"device-container"},{default:(0,I.w5)((()=>[ht,(0,I.Wm)(a,{class:"select",modelValue:(0,k.SU)(i).videoDeviceId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,k.SU)(i).videoDeviceId=e),placeholder:"Camera",onChange:n},{default:(0,I.w5)((()=>[((0,I.wg)(!0),(0,I.iD)(I.HY,null,(0,I.Ko)((0,k.SU)(i).cameraList,(e=>((0,I.wg)(),(0,I.j4)(o,{key:e.deviceId,label:e.label,value:e.deviceId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,I.Wm)(r,{span:12,class:"device-container"},{default:(0,I.w5)((()=>[vt,(0,I.Wm)(a,{class:"select",modelValue:(0,k.SU)(i).audioDeviceId,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,k.SU)(i).audioDeviceId=e),placeholder:"Microphone",onChange:n},{default:(0,I.w5)((()=>[((0,I.wg)(!0),(0,I.iD)(I.HY,null,(0,I.Ko)((0,k.SU)(i).microphoneList,(e=>((0,I.wg)(),(0,I.j4)(o,{key:e.deviceId,label:e.label,value:e.deviceId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,I._)("p",ft,(0,q.zw)((0,k.SU)(s)("deviceHint")),1)])}}});const bt=(0,x.Z)(gt,[["__scopeId","data-v-21141a18"]]);var yt=bt;const wt={class:"player-container"},It=["id"];var St=(0,I.aZ)({setup(e){const t=(0,Ye.Z)(),i=(0,I.f3)("$bus");return i.on("stream-subscribed",(async e=>{const i=e.stream,s=i.getId(),o=i.getUserId(),n=`${s}`;t.remoteStreams.push(i),await(0,I.Y3)(),i.play(n).then((()=>{t.addSuccessLog(`RemoteStream play success: [${o}]`)})).catch((e=>{t.addFailedLog(`RemoteStream play failed: [${o}], error: ${e.message_}`)})),console.log("stream-subscribed ID: ",s)})),i.on("stream-removed",(e=>{const i=e.stream,s=i.getId();t.remoteStreams=t.remoteStreams.filter((e=>e.getId()!==s))})),(e,i)=>((0,I.wg)(),(0,I.iD)("div",wt,[((0,I.wg)(!0),(0,I.iD)(I.HY,null,(0,I.Ko)((0,k.SU)(t).remoteStreams,(e=>((0,I.wg)(),(0,I.iD)("div",{key:e.getId(),class:"remote",id:e.getId()},null,8,It)))),128))]))}});const kt=(0,x.Z)(St,[["__scopeId","data-v-b6a5647e"]]);var _t=kt,Dt=i(2482),Ut=i(1735);class Ct{constructor(e){(0,Dt.Z)(this,"sdkAppId",void 0),(0,Dt.Z)(this,"userId",void 0),(0,Dt.Z)(this,"secretKey",void 0),(0,Dt.Z)(this,"roomId",void 0),(0,Dt.Z)(this,"client",void 0),(0,Dt.Z)(this,"localStream",void 0),(0,Dt.Z)(this,"isJoined",void 0),(0,Dt.Z)(this,"isPublished",void 0),(0,Dt.Z)(this,"isLeaving",void 0);const{sdkAppId:t,userId:i,roomId:s,secretKey:o}=e;this.sdkAppId=t,this.userId=i,this.secretKey=o,this.roomId=s,this.isJoined=!1,this.isPublished=!1,this.isLeaving=!1,this.initClient()}initClient(){const{userSig:e}=(0,Ut.h)({sdkAppId:this.sdkAppId,userId:this.userId,secretKey:this.secretKey});try{this.client=r().createClient({mode:"rtc",sdkAppId:this.sdkAppId,userId:this.userId,userSig:e,useStringRoomId:!0}),console.log(`Client [${this.userId}] created.`),this.installEventHandlers()}catch(t){console.error(`Failed to create Client [${this.userId}].`)}}async initLocalStream(){try{return this.localStream=r().createStream({audio:!1,screen:!0,userId:this.userId}),this.localStream.setScreenProfile({width:960,height:540,frameRate:15,bitrate:2e3}),await this.localStream.initialize(),this.localStream.on("screen-sharing-stopped",(()=>{console.log("ShareStream video track ended"),this.leave()})),this.localStream}catch(e){return console.error(`ShareStream failed to initialize. Error: ${e}`),null}}async join(){console.log("join room clicked");try{await this.client.join({roomId:this.roomId}),await this.initLocalStream(),this.isJoined=!0}catch(e){console.error("join room failed",e)}}async publish(){if(this.isJoined)if(this.isPublished)console.warn("duplicate publish() observed");else try{await this.client.publish(this.localStream),console.log("ShareStream is published successfully"),this.isPublished=!0}catch(e){console.error(`ShareStream is failed to publish. Error: ${e}`)}else console.warn("call publish()- please join() firstly")}async unpublish(){if(this.isJoined)if(this.isPublished)try{this.localStream&&await this.client.unpublish(this.localStream),this.isPublished=!1,console.log("Unpublish ShareStream success")}catch(e){console.error("unpublish failed",e)}else console.warn("call unpublish() - you have not published yet");else console.warn("unpublish() - please join() firstly")}async leave(){if(this.isJoined)if(this.isLeaving)console.warn("duplicate leave() observed");else{this.isPublished&&await this.unpublish();try{this.isLeaving=!0,await this.client.leave(),this.isJoined=!1,console.log("Local share client leave room success"),this.localStream&&(this.localStream.stop(),this.localStream.close(),this.localStream=null),this.isLeaving=!1}catch(e){console.error("leave failed",e)}}else console.warn("leave() - please join() firstly")}installEventHandlers(){this.client.on("error",this.handleError.bind(this)),this.client.on("client-banned",this.handleBanned.bind(this)),this.client.on("stream-subscribed",this.handleStreamSubscribed.bind(this))}handleError(e){console.error("client error",e)}handleBanned(e){console.warn(`client has been banned for ${e.reason}`)}handleStreamSubscribed(e){const t=e.stream,i=t.getId(),s=t.getUserId();console.log(`remote stream subscribed: [${s}] ID: ${i} type: ${t.getType()}`),this.client.unsubscribe(t)}}var $t=Ct;const At=e=>((0,I.dD)("data-v-574dcc1e"),e=e(),(0,I.Cn)(),e),xt={style:{"font-size":"14px","font-weight":"500"}},Lt={class:"btn-line"},Et=(0,I.Uk)(" Join Room "),Tt=(0,I.Uk)(" Publish "),Pt=(0,I.Uk)(" Unpublish "),Kt=(0,I.Uk)(" Leave Room "),Vt={class:"btn-line"},jt=(0,I.Uk)("Start Share Screen"),zt=(0,I.Uk)("Stop Share Screen"),Rt={key:0,class:"share-link"},Wt={class:"alert"},qt={class:"invite"},Zt=At((()=>(0,I._)("img",{src:Z,alt:"Copy to clipboard",class:"clip"},null,-1))),Ot=[Zt],Jt={class:"pusher"},Ht={class:"logs"},Qt=At((()=>(0,I._)("strong",null,"Log:",-1))),Mt=At((()=>(0,I._)("span",null,"🟩 ",-1))),Nt=At((()=>(0,I._)("span",null,"🟥 ",-1))),Bt={key:0,class:"local",id:"local"},Yt={class:"tag"};var Ft=(0,I.aZ)({setup(e){const t=(0,I.f3)("$bus"),i=(0,I.f3)("$aegis"),{t:s}=(0,u.QT)(),o=(0,Ye.Z)();let n,a,l;const d=(0,k.iH)(!1),p=(0,k.iH)(!1),m=(0,k.iH)(),h=e=>{o.logs.push({type:"success",content:e})},v=e=>{o.logs.push({type:"failed",content:e})},f=()=>{d.value?(a.unmuteAudio(),d.value=!1):(a.muteAudio(),d.value=!0)},g=()=>{p.value?(a.unmuteVideo(),p.value=!1):(a.muteVideo(),p.value=!0)};async function b(){l=new $t({sdkAppId:parseInt(o.sdkAppId,10),userId:`share${o.userId}`,roomId:parseInt(o.roomId,10),secretKey:o.secretKey});try{await l.join(),await l.publish(),h("Start share screen success"),o.isShared=!0}catch(e){v(`Start share error: ${e.message_}`)}}async function y(){try{await l.unpublish(),await l.leave(),h("Stop share screen success"),o.isShared=!1}catch(e){v(`Stop share error: ${e.message_}`)}}async function w(){try{a=r().createStream({userId:o.userId,audio:!0,video:!0,cameraId:o.videoDeviceId,microphoneId:o.audioDeviceId}),a.setVideoProfile("480p"),await a.initialize(),h(`LocalStream [${o.userId}] initialized`),a.play("local").then((()=>{A(),h(`LocalStream [${o.userId}] playing`)})).catch((e=>{v(`LocalStream [${o.userId}] failed to play. Error: ${e.message_}`)}))}catch(e){v(`LocalStream failed to initialize. Error: ${e.message_}`)}}async function _(){if(!o.getInitParamsStates())return void(0,S.z8)({message:s("paramsNeed"),type:"error"});const e=o.getUserSig();try{n=r().createClient({mode:"rtc",sdkAppId:parseInt(o.sdkAppId,10),userId:o.userId,userSig:e,useStringRoomId:!0}),h(`Client [${o.userId}] created`),x(),await n.join({roomId:o.roomId}),o.isJoined=!0,m.value=o.createShareLink(),h(`Join room [${o.roomId}] success`),i.reportEvent({name:"joinRoom",ext1:"joinRoom-success",ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}catch(t){v(`Join room ${o.roomId} failed, please check your params. Error: ${t.message_}`),i.reportEvent({name:"joinRoom",ext1:`joinRoom-failed#${o.roomId}*${o.userId}*${t.message_}`,ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}await w(),await D()}async function D(){if(o.isJoined)if(o.isPublished)(0,S.z8)({message:"duplicate publish() observed",type:"warning"});else try{await n.publish(a),h("LocalStream is published successfully"),o.isPublished=!0,i.reportEvent({name:"publish",ext1:"publish-success",ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}catch(e){v(`LocalStream is failed to publish. Error: ${e.message_}`),i.reportEvent({name:"publish",ext1:`publish-failed#${o.roomId}*${o.userId}*${e.message_}`,ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}else(0,S.z8)({message:"call publish()- please join() firstly",type:"warning"})}async function U(){if(o.isJoined)if(o.isPublished)try{await n.unpublish(a),o.isPublished=!1,h("Unpublish localStream success"),i.reportEvent({name:"unpublish",ext1:"unpublish-success",ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}catch(e){v(`LocalStream is failed to unpublish. Error: ${e.message_}`),i.reportEvent({name:"unpublish",ext1:`unpublish-failed#${o.roomId}*${o.userId}*${e.message_}`,ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}else(0,S.z8)({message:"call unpublish() - you have not published yet",type:"warning"});else(0,S.z8)({message:"unpublish() - please join() firstly",type:"warning"})}async function C(){if(o.isJoined){o.isPublished&&await U();try{N(),await n.leave(),o.isJoined=!1,h("Leave room success"),a&&(a.stop(),a.close(),a=null),i.reportEvent({name:"leaveRoom",ext1:"leaveRoom-success",ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}catch(e){v(`Leave room failed. Error: ${e.message_}`),i.reportEvent({name:"leaveRoom",ext1:`leaveRoom-failed#${o.roomId}*${o.userId}*${e.message_}`,ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}}else(0,S.z8)({message:"leave() - please join() firstly",type:"warning"})}async function $({videoId:e,audioId:t}){if(o.isJoined){if(e)try{await a.switchDevice("video",e),h("LocalStream switch video device success")}catch(i){v("Switch video device failed")}if(t)try{await a.switchDevice("audio",t),h("LocalStream switch audio device success")}catch(i){v("Switch audio device failed")}}}function A(){console.log("addLocalControlView")}function x(){n&&(n.on("error",K),n.on("client-banned",V),n.on("peer-join",Z),n.on("peer-leave",O),n.on("stream-added",J),n.on("stream-subscribed",H),n.on("stream-removed",Q),n.on("stream-updated",M),n.on("mute-video",L),n.on("mute-audio",E),n.on("unmute-video",T),n.on("unmute-audio",P))}function L(e){h(`[${e.userId}] mute video`)}function E(e){h(`[${e.userId}] mute audio`)}function T(e){h(`[${e.userId}] unmute video`)}function P(e){h(`[${e.userId}] unmute audio`)}function K(e){(0,S.z8)({message:`LocalClient error: ${e.message_}`,type:"error"}),h(`LocalClient error: ${e.message_}`)}function V(e){(0,S.z8)({message:`Client has been banned for ${e.reason}`,type:"warning"}),h(`Client has been banned for ${e.reason}`)}function Z(e){const{userId:t}=e;"local-screen"!==t&&h(`Peer Client [${t}] joined`)}function O(e){const{userId:t}=e;"local-screen"!==t&&h(`[${t}] leave`)}function J(e){const t=e.stream,s=t.getId(),a=t.getUserId();t.getUserId()===`share_${o.userId}`?n.unsubscribe(t).catch((e=>{v(`unsubscribe failed: ${e.message_}`)})):(h(`remote stream added: [${a}] ID: ${s} type: ${t.getType()}`),n.subscribe(t).catch((e=>{v(`subscribe failed: ${e.message_}`),i.reportEvent({name:"subscribe",ext1:`subscribe-failed#${o.roomId}*${o.userId}*${e.message_}`,ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})})))}function H(e){const s=e.stream,n=s.getUserId();h(`RemoteStream subscribed: [${n}]`),t.emit("stream-subscribed",e),i.reportEvent({name:"subscribe",ext1:"subscribe-success",ext2:"webrtcQuickDemoVue3",ext3:o.sdkAppId})}function Q(e){const i=e.stream,s=i.getUserId();h(`RemoteStream removed: [${s}]`),t.emit("stream-removed",e)}function M(e){const t=e.stream,i=t.getUserId();h(`RemoteStream updated: [${i}] audio:${t.hasAudio()} video:${t.hasVideo()}`)}function N(){n&&(n.off("error",K),n.off("error",K),n.off("client-banned",V),n.off("peer-join",Z),n.off("peer-leave",O),n.off("stream-added",J),n.off("stream-subscribed",H),n.off("stream-removed",Q),n.off("stream-updated",M),n.off("mute-video",L),n.off("mute-audio",E),n.off("unmute-video",T),n.off("unmute-audio",P))}function B(){(0,c.z)(m.value,void 0,(e=>{e?(0,S.z8)({message:"Copy failed!",type:"error"}):(0,S.z8)({message:"Copied!",type:"success"}),m.value=o.createShareLink()}))}return(e,t)=>{const i=W.mi,n=R.EZ,a=z.Dv,r=j.dq;return(0,I.wg)(),(0,I.j4)(r,{style:{padding:"0 10px 40px 10px"}},{default:(0,I.w5)((()=>[(0,I.Wm)(a,{md:{span:18,offset:3},sm:{span:24}},{default:(0,I.w5)((()=>[(0,I.Wm)(Ne),(0,I.Wm)(ct),(0,I.Wm)(yt,{onSwitchDevice:$}),(0,I._)("h1",xt,(0,q.zw)((0,k.SU)(s)("operation")),1),(0,I._)("div",Lt,[(0,I.Wm)(i,{type:"primary",onClick:_},{default:(0,I.w5)((()=>[Et])),_:1}),(0,I.Wm)(i,{type:"primary",onClick:D},{default:(0,I.w5)((()=>[Tt])),_:1}),(0,I.Wm)(i,{type:"primary",onClick:U},{default:(0,I.w5)((()=>[Pt])),_:1}),(0,I.Wm)(i,{type:"primary",onClick:C},{default:(0,I.w5)((()=>[Kt])),_:1})]),(0,I._)("div",Vt,[(0,I.Wm)(i,{type:"primary",onClick:b},{default:(0,I.w5)((()=>[jt])),_:1}),(0,I.Wm)(i,{type:"primary",onClick:y},{default:(0,I.w5)((()=>[zt])),_:1})]),(0,k.SU)(o).isJoined?((0,I.wg)(),(0,I.iD)("div",Rt,[(0,I._)("div",Wt,(0,q.zw)((0,k.SU)(s)("invite")),1),(0,I._)("div",qt,[(0,I._)("button",{class:"invite-btn",onClick:B},Ot),(0,I.Wm)(n,{id:"foo",modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e)},null,8,["modelValue"])])])):(0,I.kq)("",!0),(0,I._)("div",Jt,[(0,I._)("div",Ht,[Qt,((0,I.wg)(!0),(0,I.iD)(I.HY,null,(0,I.Ko)((0,k.SU)(o).logs,((e,t)=>((0,I.wg)(),(0,I.iD)("div",{key:t,class:"log"},["success"===e.type?((0,I.wg)(),(0,I.iD)(I.HY,{key:0},[Mt,(0,I.Uk)((0,q.zw)(e.content),1)],64)):((0,I.wg)(),(0,I.iD)(I.HY,{key:1},[Nt,(0,I.Uk)((0,q.zw)(e.content),1)],64))])))),128))]),(0,k.SU)(o).isJoined?((0,I.wg)(),(0,I.iD)("div",Bt,[(0,I._)("div",Yt,[(0,I._)("div",{class:(0,q.C_)(d.value?"muteAudio":"unmuteAudio"),onClick:f},null,2),(0,I._)("div",{class:(0,q.C_)(p.value?"muteVideo":"unmuteVideo"),onClick:g},null,2)])])):(0,I.kq)("",!0)]),(0,I.Wm)(_t)])),_:1})])),_:1})}}});const Gt=(0,x.Z)(Ft,[["__scopeId","data-v-574dcc1e"]]);var Xt=Gt;const ei=[{path:"/",name:"home",component:Xt},{path:"/invite",name:"invite",component:()=>i.e(443).then(i.bind(i,6079))}],ti=(0,V.p7)({history:(0,V.r5)(),routes:ei});var ii=ti;i(4415);const si=(0,s.ri)(K),oi=(0,l.Z)();r().Logger.setLogLevel(r().Logger.LogLevel.DEBUG),si.use(h),si.use(ii),si.use((0,n.WB)()),si.use(o.Z),si.use(c.Z,{autoSetContainer:!0,appendToBody:!0}),si.provide("$bus",oi),si.provide("$aegis",w),si.config.globalProperties.$bus=oi,si.config.globalProperties.$aegis=w,si.mount("#app")},630:function(e,t,i){"use strict";var s=i(8650),o=i(1735);const n=(0,s.Q_)("app",{state:()=>({sdkAppId:"",userId:"",roomId:"",secretKey:"",userSig:"",audioDeviceId:"",videoDeviceId:"",cameraList:[],microphoneList:[],logs:[],isJoined:!1,isPublished:!1,isShared:!1,remoteStreams:[],invitedRemoteStreams:[]}),getters:{},actions:{getInitParamsStates(){return!!(this.sdkAppId&&this.secretKey&&this.roomId&&this.userId)},getUserSig(){return this.userSig||(0,o.h)({sdkAppId:parseInt(this.sdkAppId,10),userId:this.userId,secretKey:this.secretKey}).userSig},createShareLink(){const e=`Guest_${Math.floor(1e6*Math.random())}`,{userSig:t}=(0,o.h)({sdkAppId:parseInt(this.sdkAppId,10),userId:e,secretKey:this.secretKey}),{origin:i}=window.location,{pathname:s}=window.location;return`${i}${s}#/invite?userSig=${t}&&SDKAppId=${this.sdkAppId}&&userId=${e}&&roomId=${this.roomId}`},addSuccessLog(e){this.logs.push({type:"success",content:e})},addFailedLog(e){this.logs.push({type:"failed",content:e})}}});t["Z"]=n},1735:function(e,t,i){"use strict";function s({sdkAppId:e,userId:t,secretKey:i}){const s=e,o=604800,n=i;void 0!=s&&""!==n||alert("请先配置好您的账号信息： SDKAPPID 及 SECRETKEY \r\n\r\nPlease configure your SDKAPPID/SECRETKEY in js/debug/GenerateTestUserSig.js");const a=new window.LibGenerateTestUserSig(s,n,o),r=a.genTestUserSig(t);return{sdkAppId:s,userSig:r}}i.d(t,{h:function(){return s}})},2026:function(e,t,i){"use strict";function s(e){const t=decodeURI(window.location.href.replace(/^[^?]*\?/,"")),i=new RegExp(`(^|&)${e}=([^&#]*)(&|$|)`,"i"),s=t.match(i);return s?s[2]:""}function o(){let e=localStorage.getItem("trtc-quick-vue3-language")||s("lang")||"en";return e=e.replace(/_/,"-").toLowerCase(),"zh-cn"===e||"zh"===e?e="zh":"en"!==e&&"en-us"!==e&&"en-GB"!==e||(e="en"),e}i.d(t,{G3:function(){return o},cP:function(){return n}});const n=e=>{if(s(e))return s(e);switch(e){case"userId":return`user_${Math.floor(1e8*Math.random())}`;case"roomId":return Math.floor(1e5*Math.random());case"sdkAppId":return;case"secretKey":return;default:return}};/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},2151:function(e,t,i){var s={"./en.json":7960,"./zh.json":3071};function o(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id=2151},7960:function(e){"use strict";e.exports=JSON.parse('{"title":"Tencent Cloud TRTC","logo":"https://web.sdk.qcloud.com/trtc/webrtc/assets/logo/trtc-logo-en-w.png","step1":"Step 1 :  Check Current Environment","step2":"Step 2 : Create New Application","step3":"Step 3 : Get SDKAppID and SecretKey","step4":"Step 4 : Start Video Call","param":"Params","alert":"Notes: this Demo is only applicable for debugging. Before official launch, please migrate the UserSig calculation code and key to your backend server to avoid unauthorized traffic use caused by the leakage of encryption key.","click":"View documents","url":"https://intl.cloud.tencent.com/document/product/647/35166","device":"Device","operation":"Operation","permit":"Please enable your microphone and camera for current page.","paramsNeed":"Please enter the correct SDKAppId, secretKey, userId, roomId！","invite":"Copy the link to invite friends to join the video call, one link can invite only one person, the link will be updated automatically after copying.","inviteUrl":"You are invited to this video chat room！","check":"Please reacquire the invitation link!","deviceHint":"PS: Please confirm that cameras and microphones are allowed on the current page before entering the room"}')},3071:function(e){"use strict";e.exports=JSON.parse('{"title":"TRTC 实时音视频","logo":"https://web.sdk.qcloud.com/trtc/webrtc/assets/logo/trtc-logo-cn-w.png","step1":"步骤 1 : 判断当前环境是否满足条件","step2":"步骤 2 : 创建新的应用","step3":"步骤 3 : 获取 SDKAppID 和 密钥 SecretKey","step4":"步骤 4 : 开始视频通话","param":"参数","alert":"注意️：本 Demo 仅用于调试，正式上线前请将 UserSig 计算代码和密钥迁移到您的后台服务器上，以避免加密密钥泄露导致的流量盗用。","click":"查看文档","url":"https://cloud.tencent.com/document/product/647/17275","device":"设备","operation":"操作","permit":"请授权您的麦克风和摄像头权限","paramsNeed":"请检查参数 SDKAppId, secretKey, userId, roomId 是否输入正确！","invite":"复制链接邀请好友加入视频通话，一条链接仅可邀请一人，复制后自动更新链接。","inviteUrl":"你被邀请参加视频通话！","check":"请重新获取邀请链接！","deviceHint":"PS: 进房之前请确认当前页面允许使用摄像头和麦克风"}')}},t={};function i(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,s,o,n){if(!s){var a=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],n=e[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||a>=n)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(r=!1,n<a&&(a=n));if(r){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,o,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,s){return i.f[s](e,t),t}),[]))}}(),function(){i.u=function(e){return"js/about.1d904aa3.js"}}(),function(){i.miniCssF=function(e){return"css/about.b3f65ee9.css"}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="quick-vue3:";i.l=function(s,o,n,a){if(e[s])e[s].push(o);else{var r,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",t+n),r.src=s),e[s]=[o];var p=function(t,i){r.onerror=r.onload=null,clearTimeout(m);var o=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(i)})),t)return t(i)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p=""}(),function(){var e=function(e,t,i,s){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var n=function(n){if(o.onerror=o.onload=null,"load"===n.type)i();else{var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=r,o.parentNode.removeChild(o),s(l)}};return o.onerror=o.onload=n,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var o=i[s],n=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(n===e||n===t))return o}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){o=a[s],n=o.getAttribute("data-href");if(n===e||n===t)return o}},s=function(s){return new Promise((function(o,n){var a=i.miniCssF(s),r=i.p+a;if(t(a,r))return o();e(s,r,o,n)}))},o={143:0};i.f.miniCss=function(e,t){var i={443:1};o[e]?t.push(o[e]):0!==o[e]&&i[e]&&t.push(o[e]=s(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={143:0};i.f.j=function(t,s){var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var n=new Promise((function(i,s){o=e[t]=[i,s]}));s.push(o[2]=n);var a=i.p+i.u(t),r=new Error,l=function(s){if(i.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var n=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",r.name="ChunkLoadError",r.type=n,r.request=a,o[1](r)}};i.l(a,l,"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,a=s[0],r=s[1],l=s[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(l)var d=l(i)}for(t&&t(s);c<a.length;c++)n=a[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(d)},s=self["webpackChunkquick_vue3"]=self["webpackChunkquick_vue3"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(4729)}));s=i.O(s)})();
//# sourceMappingURL=app.67c97bc8.js.map